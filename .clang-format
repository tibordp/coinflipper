---
# Coinflipper C++ formatting style
BasedOnStyle: LLVM

# Egyptian brackets (K&R style) - opening brace on same line
BreakBeforeBraces: Attach

# Use spaces, not tabs
UseTab: Never
IndentWidth: 4
TabWidth: 4
ContinuationIndentWidth: 4

# Always use braces for control statements
# Note: This requires manual enforcement or clang-tidy
# clang-format only formats existing code, doesn't add missing braces

# Line comments over block comments (clang-format doesn't convert /* */ to //)
# This is also a manual/clang-tidy concern, but we set preferences:
# No specific setting needed - just use // style manually

# Additional style preferences
ColumnLimit: 100
PointerAlignment: Left
AlignAfterOpenBracket: Align
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortFunctionsOnASingleLine: Empty
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: false
IndentCaseLabels: true
SpaceAfterCStyleCast: true
SpaceBeforeParens: ControlStatements
SpacesInAngles: Never
Standard: c++11

# Include sorting
SortIncludes: CaseInsensitive
IncludeBlocks: Regroup
IncludeCategories:
  # System headers
  - Regex:           '<[^/]+>'
    Priority:        1
  # Third-party headers (ZMQ, CLI, protobuf)
  - Regex:           '<(zmq|CLI|google)/'
    Priority:        2
  # Project headers
  - Regex:           '".*"'
    Priority:        3
